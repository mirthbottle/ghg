<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/tooltip.css" rel="stylesheet">
    <link href="/bootstrap/css/jumbotron-narrow.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/javascript/d3.js"></script>
    <script src="/javascript/collect_children.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="jumbotron">
	<h1> GHG Emissions Mapping</h1>
	<h5> There are many ways to combat climate change since GHG emissions is a byproduct of most of our activities.  Does the transportation system or buildings result in more emissions?  Is it different for different states?  Are the end users the private sector, public sector, or residents?  Global GHG emissions can be organized by process, jurisdiction, products and services, industry, type of end user, company, etc.  Students and young professionals may be able to benefit from a visualization tool to help them choose between fields and specializations.</h5><br>
	<h5>Below is an example of one way to visualize the total global GHG emissions using data.</h5>
      </div>
      <div align="center">
	<div style="float:left">
	  <h3>Global 2011 Source Data</h3><br>
	  <button class="btn btn-default btn-lg" onclick="change_display('source', 1)">See View 1 </button><br>
	  <button class="btn btn-default btn-lg" id="animate1" onclick="change_display('source', 2)">Switch to View 2</button></div>
	<div style="float:right">
	  <h3>US 2011 End Use Data</h3><br>
	  <button class="btn btn-default btn-lg" onclick="change_display('enduse', 1)">See View 1</button><br>
      	  <button class="btn btn-default btn-lg" id="animate2" onclick="change_display('enduse', 2)" disabled>Switch to View 2</button></div>
	</div>
      <input id="dataset" type="hidden" value="source"></input>
    </div>
    <div id="chart" align="middle">
    </div>
    <h2>Global 2011 Source Data is from</h2>
    <h4>Total GHG Emissions Excluding Land-Use Change and Forestry (MtCO2e)</h4>
    <p>WRI, CAIT 2.0. 2014. Climate Analysis Indicators Tool: WRI's Climate Data Explorer. Washington, DC: World Resources Institute. Available at: <a href="http://cait2.wri.org">http://cait2.wri.org</a></p>
    <h2>US 2011 End Use Data is from</h2>
    <h4>Table 2-12: U.S. Greenhouse Gas Emissions Allocated to Economic Sectors (Tg CO2 Eq. and Percent of Total in 2011)</h4>
    <p>EPA, US GHG Inventory 2013: Chapter 2 Trends in Greenhouse Gas Emissions. Washington, DC: EPA. Available at: <a href="http://www.epa.gov/climatechange/Downloads/ghgemissions/US-GHG-Inventory-2013-Chapter-2-Trends.pdf">http://www.epa.gov/climatechange/Downloads/ghgemissions/US-GHG-Inventory-2013-Chapter-2-Trends.pdf</a></p>
  </body>
  <script>
    collect_children("source");

    function change_display(dataset, view) {
      var current_dataset = document.getElementById("dataset");
      var obutton_name = dataset == "source" ? "animate2" : "animate1";
      var button_name = dataset == "source" ? "animate1" : "animate2";
      if (current_dataset.value != dataset){
        d3.select("svg").remove();
        collect_children(dataset);
        current_dataset.value = dataset;
        document.getElementById(obutton_name).disabled = true;
        document.getElementById(button_name).disabled = false;
      }
      else {
        if(view == 1){
          d3.select("svg").remove();
          collect_children(dataset);
          current_dataset.value = dataset;
        }
      }
    }

  </script>
</html>
